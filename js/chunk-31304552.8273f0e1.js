(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31304552"],{"4c6c":function(e,t,n){"use strict";var a=n("ad22"),i=n.n(a);i.a},"70fd":function(e,t,n){"use strict";var a=n("9fc1"),i=n.n(a);i.a},"723a":function(e,t,n){"use strict";var a=n("a877"),i=n.n(a);i.a},"9fc1":function(e,t,n){},a877:function(e,t,n){},a8c8:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("div",{staticClass:"header"},[n("span",{class:e.show?"active":"",on:{click:function(t){e.show=!0}}},[e._v(e._s(e.$t("message.joinRecord")))]),n("span",{class:e.show?"":"active",on:{click:function(t){e.show=!1}}},[e._v(e._s(e.$t("message.incomeRecord")))])]),n("record-container",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"join",attrs:{haveRecord:!e.joinList.length,text:e.$t("message.notJoinRecord")}},e._l(e.joinList,(function(t,a){return n("div",{key:a},[n("div",[n("span",[e._v("参与成功")]),n("span",[e._v(e._s(t.time))])]),n("span",[e._v("-"+e._s(t.amount)+" ETH")])])})),0),n("record-container",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"income",attrs:{haveRecord:!e.incomeList.length,text:e.$t("message.notIncomeRecord")}},e._l(e.incomeList,(function(t,a){return n("div",{key:a},[n("div",[n("span",[e._v(e._s(t.name))]),n("span",[e._v(e._s(t.type))])]),n("div",[n("span",[e._v(e._s(t.time))]),n("span",[e._v("+"+e._s(t.amount)+" ETH")])])])})),0)],1)},i=[],s=(n("99af"),n("fb6a"),n("a9e3"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),c=n("ae53"),o=n("ba6a"),r={components:{recordContainer:c["a"]},data:function(){return{show:!0,joinList:[],incomeList:[]}},methods:{init:function(){this.$cache.record?(this.joinList=this.$cache.record.joinList,this.incomeList=this.$cache.record.incomeList):this.$cache.record={},this.getData()},getData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=o["a"],e.t1=this.$address,e.next=4,this.$web3.eth.getBlockNumber();case 4:e.t2=e.sent,t=new e.t0(e.t1,e.t2),t.getJoin().then((function(e){n.joinList=[],e.forEach((function(e){var t=n.$web3.eth.abi.decodeParameter("uint256",e.topics[2]),a=n.$web3.eth.abi.decodeParameter("uint256",e.topics[3]),i=new Date(1e3*Number(t)),s=i.getFullYear(),c=i.getMonth()+1,o=i.getDate();n.joinList.push({amount:n.$fromWei(a),time:"".concat(s,"/").concat(c,"/").concat(o)})})),n.$cache.record.joinList=n.joinList})).catch((function(e){n.joinList=[],n.$cache.record.joinList=[]})),Promise.all([t.getIncome(),this.$contract.get("recommend","AddressToShortCode",this.$address).call({from:this.$address})]).then((function(e){n.incomeList=[];var t=n.$web3.utils.hexToString(e[1]);e[0].forEach((function(e){var a=n.$web3.eth.abi.decodeParameter("uint256",e.topics[2]),i=n.$web3.eth.abi.decodeParameter("uint8",e.topics[3]),s=n.$web3.eth.abi.decodeParameter("uint256",e.data),c=new Date(1e3*Number(s)),o=c.getFullYear(),r=c.getMonth()+1,u=c.getDate();Number(i)>=0&&Number(i)<15?i=n.$t("message.sharingAward"):Number(i)>20&&Number(i)<25?i="V".concat(i.slice(1)):Number(i)>30&&Number(i)<35?i=n.$t("message.tieAward"):40===Number(i)&&(i=n.$t("message.dividend")),n.incomeList.push({name:t,type:i,amount:n.$fromWei(a),time:"".concat(o,"/").concat(r,"/").concat(u)})})),n.$cache.record.incomeList=n.incomeList})).catch((function(e){n.incomeList=[],n.$cache.record.incomeList=[]}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){"收益记录"===this.$route.query.type&&(this.show=!1),this.init()}},u=r,d=(n("70fd"),n("2877")),h=Object(d["a"])(u,a,i,!1,null,"09afa73b",null);t["default"]=h.exports},ad22:function(e,t,n){},ae53:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"record"},[e._t("default"),e.haveRecord?n("not-record",{attrs:{text:e.text}}):e._e()],2)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"not-record"},[a("img",{attrs:{src:n("1744")}}),a("span",[e._v(e._s(e.text))])])},c=[],o={props:{text:{type:String,default:"暂无记录"}}},r=o,u=(n("723a"),n("2877")),d=Object(u["a"])(r,s,c,!1,null,"23a7bbd0",null),h=d.exports,m={components:{notRecord:h},props:{text:String,haveRecord:Boolean}},l=m,f=(n("4c6c"),Object(u["a"])(l,a,i,!1,null,"9056b4a2",null));t["a"]=f.exports}}]);