(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ad4a699"],{"00c9":function(t,e,a){"use strict";var s=a("aa90"),n=a.n(s);n.a},"310b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabbar-page box"},[s("div",{staticClass:"header"},[s("div",[s("img",{attrs:{src:a("24f4")}}),s("span",[t._v(t._s(t.ethBalance)+" ETH")])]),s("div",[s("img",{attrs:{src:a("4013")}}),s("span",[t._v(t._s(t.upcBalance)+" UPC")])]),s("div",[s("div",[s("img",{attrs:{src:a("7c87")}}),s("span",[t._v(t._s(t.$address.slice(0,4)+"∗∗∗∗∗"+t.$address.slice(-5)))])]),s("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.$address,expression:"$address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onCopyError,expression:"onCopyError",arg:"error"}]},[t._v(t._s(t.$t("message.copy")))])])]),s("div",{staticClass:"change_title"},[s("div",[s("i"),s("span",[t._v(t._s(t.$t("message.creationChange")))])]),s("span",[t._v(t._s(t.total)+" UPC")])]),s("div",{staticClass:"content"},[s("div",[s("span",[t._v("1:"+t._s(t.prop))]),s("span",[t._v(t._s(t.width))]),s("div",{style:{width:t.width}})]),t._l(t.roundList,(function(e,a){return s("div",{key:a,staticClass:"change_round"},[s("span",[t._v("1:"+t._s(e.prop))])])}))],2),s("div",{staticClass:"input"},[s("div",{staticClass:"title"},[s("div",[s("i"),s("span",[t._v(t._s(t.$t("message.remaining"))+": "+t._s(t.lave)+" UPC")])]),s("router-link",{attrs:{to:"/changeRecord"}},[s("img",{attrs:{src:a("13f3")}}),s("span",[t._v(t._s(t.$t("message.record")))])])],1),s("div",{staticClass:"input_content"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.eth,expression:"eth"}],attrs:{type:"number",placeholder:"0"},domProps:{value:t.eth},on:{input:function(e){e.target.composing||(t.eth=e.target.value)}}}),s("span",[t._v("ETH")])]),s("img",{attrs:{src:a("efce")}}),s("div",[s("input",{attrs:{type:"number",disabled:"",readonly:""},domProps:{value:t.eth*t.prop}}),s("span",[t._v("UPC")])])])]),s("div",{staticClass:"button"},[s("Button",{attrs:{color:"linear-gradient(to right, #21C181, #21C1A5)"},on:{click:t.changeToken}},[t._v(t._s(t.$t("message.define")))])],1),s("self-tabbar",{attrs:{active:"change"}})],1)},n=[],c=(a("a9e3"),a("b680"),a("d3b7"),a("3ca3"),a("ddb0"),a("66b9"),a("b650")),r=(a("f1dc"),a("6e47")),o=(a("e7e5"),a("d399")),i=a("67de"),h=a("e6f4"),d={name:"change",components:{selfTabbar:i["a"],Toast:o["a"],Overlay:r["a"],Button:c["a"]},data:function(){return{ethBalance:"0.00",upcBalance:"0.00",total:"0.00",prop:1,width:"56.5%",lave:"0.00",eth:"",roundList:[]}},methods:{init:function(){this.$cache.change?(this.ethBalance=this.$cache.change.ethBalance,this.upcBalance=this.$cache.change.upcBalance,this.total=this.$cache.change.total,this.prop=this.$cache.change.prop,this.width=this.$cache.change.width,this.lave=this.$cache.change.lave,this.roundList=this.$cache.change.roundList):this.$cache.change={},this.getData()},getData:function(){var t=this;Promise.all([this.$contract.get("tokenChanger","ChangeRoundAt",0).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",1).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",2).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",3).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",4).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",5).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",6).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",7).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",8).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",9).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",10).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",11).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",12).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",13).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",14).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",15).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",16).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",17).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",18).call({from:this.$address}),this.$contract.get("tokenChanger","ChangeRoundAt",19).call({from:this.$address}),this.$contract.get("tokenChanger","CurrentRound").call({from:this.$address}),this.$web3.eth.getBalance(this.$address),this.$contract.get("erc20token","balanceOf",this.$address).call({from:this.$address})]).then((function(e){t.total=t.$fromWei(e[20].total,2),t.prop=t.$fromWei(e[20].prop),t.lave=t.total-t.$fromWei(e[20].changed),t.width="".concat((t.lave/t.total*100).toFixed(2),"%"),t.ethBalance=t.$fromWei(e[21],2),t.upcBalance=t.$fromWei(e[22],2),t.roundList=[];for(var a=Number(e[20].roundID)+3>20?20:Number(e[20].roundID)+3,s=Number(e[20].roundID);s<a;s++)t.roundList.push({amount:t.$fromWei(e[s].total)/1e4,prop:t.$fromWei(e[s].prop)%1===0?t.$fromWei(e[s].prop):t.$fromWei(e[s].prop,2)});t.$cache.change.total=t.total,t.$cache.change.prop=t.prop,t.$cache.change.lave=t.lave,t.$cache.change.width=t.width,t.$cache.change.ethBalance=t.ethBalance,t.$cache.change.upcBalance=t.upcBalance,t.$cache.change.roundList=t.roundList})).catch((function(e){delete t.$cache.change}))},changeToken:function(){var t=this;return 0===this.eth||""===this.eth?o["a"].fail(this.$t("message.changeNull")):1e3*this.eth%10!==0?o["a"].fail(this.$t("message.changeErr1")):this.eth*this.prop>this.lave?o["a"].fail(this.$t("message.changeErr2")):void this.$contract.get("tokenChanger","DoChangeToken").send({from:this.$address,value:this.$toWei("".concat(this.eth))}).on("receipt",(function(e){t.eth="",t.getData()})).on("error",console.error)},onCopySuccess:function(){o["a"].success(this.$t("message.copySuccess"))},onCopyError:function(){o["a"].fail(this.$t("message.copyFail"))}},mounted:function(){h["d"]&&this.init()}},l=d,g=(a("00c9"),a("2877")),u=Object(g["a"])(l,s,n,!1,null,"031f9683",null);e["default"]=u.exports},"66b9":function(t,e,a){"use strict";a("68ef"),a("9d70"),a("09fe"),a("3743"),a("e3b3"),a("bc1b")},aa90:function(t,e,a){},f1dc:function(t,e,a){"use strict";a("68ef"),a("a71a")}}]);