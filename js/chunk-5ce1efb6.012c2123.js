(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ce1efb6"],{"0309":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grid"},[i("grid",{staticClass:"grid-group",attrs:{border:!1,gutter:1,"column-num":2}},t._l(t.grid,(function(e,n){return i("grid-item",{key:n,staticClass:"content-item"},[i("img",{class:e.class?e.class:"",attrs:{src:e.img}}),i("span",[t._v(t._s(e.title))]),e.amount?i("span",[t._v(t._s(e.amount))]):i("router-link",{attrs:{to:e.path}},[t._v(t._s(e.text))])],1)})),1)],1)},a=[],c=(i("68ef"),i("9d70"),i("09fe"),i("3743"),i("e15d"),i("c31d")),r=i("d282"),s=i("ea8e"),o=i("b1d2"),d=i("9884"),u=i("48f4"),l=i("6f2f"),m=i("ad06"),h=Object(r["a"])("grid-item"),g=h[0],f=h[1],p=g({mixins:[Object(d["a"])("vanGrid")],props:Object(c["a"])({},u["c"],{dot:Boolean,text:String,icon:String,info:[Number,String]}),computed:{style:function(){var t=this.parent,e=t.square,i=t.gutter,n=t.columnNum,a=100/n+"%",c={flexBasis:a};if(e)c.paddingTop=a;else if(i){var r=Object(s["a"])(i);c.paddingRight=r,this.index>=n&&(c.marginTop=r)}return c},contentStyle:function(){var t=this.parent,e=t.square,i=t.gutter;if(e&&i){var n=Object(s["a"])(i);return{right:n,bottom:n,height:"auto"}}}},methods:{onClick:function(t){this.$emit("click",t),Object(u["b"])(this.$router,this)},genIcon:function(){var t=this.$createElement,e=this.slots("icon");return e?t("div",{class:f("icon-wrapper")},[e,t(l["a"],{attrs:{dot:this.dot,info:this.info}})]):this.icon?t(m["a"],{attrs:{name:this.icon,dot:this.dot,info:this.info,size:this.parent.iconSize},class:f("icon")}):void 0},genContent:function(){var t=this.$createElement,e=this.slots();return e||[this.genIcon(),this.slots("text")||this.text&&t("span",{class:f("text")},[this.text])]}},render:function(){var t,e=arguments[0],i=this.parent,n=i.center,a=i.border,c=i.square,r=i.gutter,s=i.clickable;return e("div",{class:[f({square:c})],style:this.style},[e("div",{style:this.contentStyle,attrs:{role:s?"button":null,tabindex:s?0:null},class:[f("content",{center:n,square:c,clickable:s,surround:a&&r}),(t={},t[o["a"]]=a,t)],on:{click:this.onClick}},[this.genContent()])])}}),$=(i("75ad"),Object(r["a"])("grid")),b=$[0],v=$[1],w=b({mixins:[Object(d["b"])("vanGrid")],props:{square:Boolean,gutter:[Number,String],iconSize:[Number,String],clickable:Boolean,columnNum:{type:Number,default:4},center:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},computed:{style:function(){var t=this.gutter;if(t)return{paddingLeft:Object(s["a"])(t)}}},render:function(){var t,e=arguments[0];return e("div",{style:this.style,class:[v(),(t={},t[o["d"]]=this.border&&!this.gutter,t)]},[this.slots()])}}),x={components:{Grid:w,GridItem:p},props:{grid:Array}},_=x,C=(i("7f0c"),i("b7c0"),i("2877")),W=Object(C["a"])(_,n,a,!1,null,"70550fee",null);e["a"]=W.exports},3699:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"header"},[n("div",[n("div",[n("img",{attrs:{src:i("8699")}}),n("span",[t._v(t._s(t.canWithdraw))])]),n("span",[t._v(t._s(t.$t("message.currentCanDraw"))+"/ETH")])]),n("router-link",{attrs:{to:"/record?type=收益记录"}},[n("img",{attrs:{src:i("0b8a")}}),n("span",[t._v(t._s(t.$t("message.incomeRecord")))])])],1),n("self-grid",{attrs:{grid:t.grid}}),n("div",{staticClass:"btn"},[n("Button",{attrs:{disabled:t.canWithdraw<=0,color:"linear-gradient(45deg, #21C181, #21C1A4)"},on:{click:t.draw}},[t._v(t._s(t.$t("message.draw")))]),n("span",[t._v(t._s(t.$t("message.gasPrice"))+"："+t._s(t.gasPrice)+" UPC")])],1)],1)},a=[],c=(i("a9e3"),i("b680"),i("d3b7"),i("3ca3"),i("ddb0"),i("e7e5"),i("d399")),r=(i("66b9"),i("b650")),s=i("0309"),o={components:{Button:r["a"],SelfGrid:s["a"]},data:function(){return{canWithdraw:"0.00",grid:[{img:i("5dd9"),title:this.$t("message.dividendIncome"),amount:"0.00ETH"},{img:i("33c4"),title:this.$t("message.promoteIncome"),amount:"0.00ETH"},{img:i("75e6"),title:this.$t("message.outQuota"),amount:"0.00ETH"},{img:i("7c45"),title:this.$t("message.totalIncome"),amount:"0.00ETH"}],gasPrice:0,upcBalance:0}},methods:{init:function(){this.$cache.income?(this.canWithdraw=this.$cache.income.canWithdraw,this.grid[0].amount=this.$cache.income.dividendIncome,this.grid[1].amount=this.$cache.income.promoteIncome,this.grid[2].amount=this.$cache.income.outAmount,this.grid[3].amount=this.$cache.income.totalIncome,this.gasPrice=this.$cache.income.gasPrice,this.upcBalance=this.$cache.income.upcBalance):this.$cache.income={},this.getData()},getData:function(){var t=this;Promise.all([this.$contract.get("round","GetCurrentGameStatus").call({from:this.$address}),this.$contract.get("round","CurrentCanWithdrawProfix",this.$address).call({from:this.$address}),this.$contract.get("round","TotalInOutAmount").call({from:this.$address}),this.$contract.get("erc20token","balanceOf",this.$address).call({from:this.$address})]).then((function(e){console.log(e);var i=t.$fromWei(e[0].currentEther)*Number(e[0].profixMultiplier)-t.$fromWei(e[0].withdrawableTotal),n=t.$fromWei(e[1].st),a=t.$fromWei(e[1].dy),c=n+a;t.canWithdraw=c>i?i.toFixed(3):c.toFixed(3),t.grid[0].amount="".concat(n.toFixed(2),"ETH"),t.grid[1].amount="".concat(a.toFixed(2),"ETH"),t.grid[2].amount="".concat(i.toFixed(2),"ETH"),t.grid[3].amount="".concat(t.$fromWei(e[2].outEther,2),"ETH"),t.upcBalance=t.$fromWei(e[3]),t.$cache.income.canWithdraw=t.canWithdraw,t.$cache.income.dividendIncome=t.grid[0].amount,t.$cache.income.promoteIncome=t.grid[1].amount,t.$cache.income.outAmount=t.grid[2].amount,t.$cache.income.totalIncome=t.grid[3].amount,t.$cache.income.upcBalance=t.upcBalance,t.$contract.get("cost","WithdrawCost",t.$toWei("".concat(c))).call({from:t.$address},(function(e,i){e||(t.gasPrice=t.$fromWei(i),t.$cache.income.gasPrice=t.gasPrice)}))}))},draw:function(){var t=this;if(this.upcBalance<this.gasPrice)return c["a"].fail(this.$t("message.notUPC"));this.$contract.get("round","WithdrawProfix").send({from:this.$address}).on("transactionHash",(function(e){c["a"].loading({duration:0,forbidClick:!0,message:t.$t("message.loading")})})).on("receipt",(function(e){c["a"].clear(),t.getData()})).on("error",console.error)}},mounted:function(){this.init()}},d=o,u=(i("4fc1"),i("2877")),l=Object(u["a"])(d,n,a,!1,null,"4c226812",null);e["default"]=l.exports},"4fc1":function(t,e,i){"use strict";var n=i("f988"),a=i.n(n);a.a},"75ad":function(t,e,i){},"7f0c":function(t,e,i){"use strict";var n=i("c387"),a=i.n(n);a.a},a74c:function(t,e,i){},b7c0:function(t,e,i){"use strict";var n=i("a74c"),a=i.n(n);a.a},c387:function(t,e,i){},e15d:function(t,e,i){},f988:function(t,e,i){}}]);